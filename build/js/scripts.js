// Code generated by Justin Metros
// Thank god for Justin!!!
//http://justinmetros.com/

//-----------------------------------
// WINDOW RESIZE STUFF
//-----------------------------------
// Handle Window Resize
function resizeFrame(){
  // get height of window and store it in a variable
  var h = $(window).height();
  // set the height of the section to this variable
  $('.hero').css('min-height',h);
}

  $(".reveal").hover(function() {
        $(this).closest(".colorOverlay").toggleClass("projectHover");
    });

//-----------------------------------
// PAGE LOAD + SMOOTH SCROLL
//-----------------------------------
// Initialize Everything on Page Load
$(document).ready(function(){
  var speed = 500;
            var topOffset = 0;
            var easeMethod = 'easeInOutQuart';
            $(".scroll").click(function(event){
                var amountToScroll = ( $(this.hash).offset().top ) - topOffset;
                event.preventDefault();
                $('html,body').animate({scrollTop: amountToScroll }, speed, easeMethod );
                return false;
            });
  // register an event to listen for window resize.
  // everytime browser window is resized, call the resizeFrame function
  jQuery.event.add(window, "resize", resizeFrame);
  resizeFrame(); // call the resizeFrame function on load


});

//-----------------------------------
// CSS ANIMATIONS STUFF
//-----------------------------------
// Scroll to section to trigger animation
  $(window).scroll(function() {
    $('#animatedElement').each(function(){
    var imagePos = $(this).offset().top;

    var topOfWindow = $(window).scrollTop();
      if (imagePos < topOfWindow+400) {
        $(this).addClass("slideUp");
      }
    });
  });


// Click to trigger animation
$('#animatedElement').click(function() {
  $(this).addClass("slideUp");
});







$(window).load(function() { // makes sure the whole site is loaded
      $('#status').fadeOut(); // will first fade out the loading animation
      $('#preloader').delay(350).fadeOut('slow'); // will fade out the white DIV that covers the website.
      $('body').delay(350).css({'overflow':'visible'});
    });
  //]]>






//-----------------------------------
// SVG IMG STUFF
//-----------------------------------
/*
* Replace all SVG images with inline SVG
*/
jQuery('img.svg').each(function(){
    var $img = jQuery(this);
    var imgID = $img.attr('id');
    var imgClass = $img.attr('class');
    var imgURL = $img.attr('src');

    jQuery.get(imgURL, function(data) {
        // Get the SVG tag, ignore the rest
        var $svg = jQuery(data).find('svg');

        // Add replaced image's ID to the new SVG
        if(typeof imgID !== 'undefined') {
            $svg = $svg.attr('id', imgID);
        }
        // Add replaced image's classes to the new SVG
        if(typeof imgClass !== 'undefined') {
            $svg = $svg.attr('class', imgClass+' replaced-svg');
        }

        // Remove any invalid XML tags as per http://validator.w3.org
        $svg = $svg.removeAttr('xmlns:a');

        // Replace image with new SVG
        $img.replaceWith($svg);

    }, 'xml');

});
